<script>
  import { Button } from 'attractions';

  export let isHalfDay = false;
  export let hasLunch = false;
  export let clockInTime = new Date();
  export let clockOutTime;
  export let message;
  export let selectedTab;

  const handleClick = () => {
    if (clockOutTime) {
      isHalfDay = false;
      hasLunch = false;
      clockInTime = new Date();
      clockOutTime = null;
      selectedTab = 'ê·¼ë¬´ ì„¤ì •';
      message = 'í‡´ê·¼í–ˆìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ë„ ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤ ðŸ˜š';
      setTimeout(() => {
        message = '';
      }, 2000);
    } else {
      const workHours = isHalfDay ? (hasLunch ? 5 : 4) : 9;
      const outTime = new Date(clockInTime);

      outTime.setHours(outTime.getHours() + workHours);
      clockOutTime = outTime;
      selectedTab = 'ê·¼ë¬´ í™•ì¸';
      message = 'ì¶œê·¼í–ˆìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ë„ í™”ì´íŒ…í•˜ì„¸ìš” ðŸ’ª';
      setTimeout(() => {
        message = '';
      }, 2000);
    }
  }
</script>

<footer class="footer">
  <div class="container">
    <div class="content">
      <Button filled on:click={handleClick}>{clockOutTime ? 'í‡´ê·¼' : 'ì¶œê·¼'}í•˜ê¸°</Button>
    </div>
  </div>
</footer>

<style>
  .footer {
    background: rgba(67, 0, 176, 0.03);
    padding-block: 14px;
    border-top: 1px solid rgba(67, 0, 176, 0.25);
  }

  .content {
    display: flex;
    justify-content: flex-end;
  }
</style>